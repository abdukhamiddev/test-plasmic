"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("@plasmicapp/host/registerComponent")),i=require("antd"),n=require("react"),r=e(n),l=require("keen-slider/react"),o=e(require("@seznam/compose-react-refs"));function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var s=i.Select.Option,d=function(e){var t=new ResizeObserver((function(){e.update()}));e.on("created",(function(){t.observe(e.container)})),e.on("destroyed",(function(){t.unobserve(e.container)}))},c={name:"hostless-slider",displayName:"Slider",importName:"Slider",importPath:"keen-slider",actions:[{type:"custom-action",control:function(e){var t,n,l=e.componentProps,o=e.studioOps,a=null!=(t=l.editingSlide)?t:0,d=null!=(n=l.children.length)?n:"img"===l.children.type?1:0,c=Array.from({length:d},(function(e,t){return t})).map((function(e){return r.createElement(s,{value:e.toString()},"Slide ",e+1)}));return r.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",gap:"10px",justifyContent:"space-between"}},r.createElement("div",null,"Current slide:"),r.createElement(i.Select,{defaultValue:a.toString(),style:{width:"100%"},onChange:function(e){var t=Number(e);o.updateProps({editingSlide:t%d})},value:a.toString()},c))}},{type:"custom-action",control:function(e){var t,n=e.componentProps,l=e.studioOps,o=n.children.length,a=null!=(t=n.editingSlide)?t:0;return r.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",gap:"10px",justifyContent:"space-between"}},r.createElement(i.Button,{style:{width:"100%"},onClick:function(){l.updateProps({editingSlide:(a-1+o)%o})}},"Prev slide"),r.createElement(i.Button,{style:{width:"100%"},onClick:function(){l.updateProps({editingSlide:(a+1)%o})}},"Next slide"))}},{type:"button-action",label:"Append new slide",onClick:function(e){var t=e.studioOps,i=e.componentProps.children.length;t.appendToSlot({type:"img",src:""},"children"),t.updateProps({editingSlide:i})}},{type:"button-action",label:"Delete current slide",onClick:function(e){var t,i=e.componentProps,n=e.studioOps,r=null!=(t=e.contextData.editingSlide)?t:0;n.removeFromSlotAt(r,"children");var l=i.children.length-1;n.updateProps({editingSlide:(r-1+l)%l})}},{type:"custom-action",control:function(){return r.createElement("div",null,"* To re-arrange slides, use the Outline panel")}}],props:{children:{type:"slot",defaultValue:[{type:"img",src:"https://via.placeholder.com/150x90/FF0000/FFFFFF/?text=Slide_1",styles:{}},{type:"img",src:"https://via.placeholder.com/150x90/00FF00/FFFFFF/?text=Slide_2",styles:{}},{type:"img",src:"https://via.placeholder.com/150x90/0000FF/FFFFFF/?text=Slide_3",styles:{}}]},editingSlide:{displayName:"Currently edited slide",type:"number",description:"Switch to the specified slide (first is 0). Only affects the editor, not the final page.",defaultValueHint:0,editOnly:!0,hidden:function(){return!0}},disabled:{displayName:"Disabled",type:"boolean",description:"Disable or enable slider",defaultValueHint:!1},drag:{displayName:"Drag",type:"boolean",description:"Enables or disables mouse and touch control",defaultValueHint:!0},dragSpeed:{displayName:"Drag Speed",type:"number",description:"Set the speed that is applied to the slider when dragging it.",defaultValueHint:1},initial:{displayName:"Initial slide",type:"number",description:"Sets the index of initially visible slide",defaultValueHint:1},loop:{displayName:"Loop",type:"boolean",description:"Enable or disables carousel/loop functionality of the slider",defaultValueHint:!1},mode:{displayName:"Carousel mode",type:"choice",options:["snap","free","free-snap"],description:"Sets the animation that is applied after a drag ends",defaultValueHint:"snap"},renderMode:{displayName:"Render mode",type:"choice",options:["precision","performance","custom"],description:"It is possible that the render performance of the browser slows down, if you have slides with some complexity in markup and CSS. To counteract this problem, you can set this option to 'performance'. If you want to create your own renderer, you can set this options to 'custom'. Default is 'precision'.",defaultValueHint:"precision"},rtl:{displayName:"Reverse",type:"boolean",description:"Reverses the slide order",defaultValueHint:!1},rubberband:{displayName:"Rubberband ",type:"boolean",description:"Enables or disables rubberband behavior for dragging and animation after a drag.",defaultValueHint:!0},slides:{displayName:"Number of slides",type:"number",description:"Specifies number of slider "},vertical:{displayName:"Vertical",type:"boolean",description:"Vertical slide mode",defaultValueHint:!1,helpText:"(Note: The height of the container must be defined if vertical is true)"}},defaultStyles:{width:"stretch",maxWidth:"100%",flexDirection:"column"}},p=n.forwardRef((function(e,t){var i=e.editingSlide,s=e.children,c=e.className,p=e.setControlContextData,u=function(e,t){if(null==e)return{};var i,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t.indexOf(i=l[n])>=0||(r[i]=e[i]);return r}(e,["editingSlide","children","className","setControlContextData"]);null==p||p({editingSlide:i});var f=l.useKeenSlider(a({},u),[d]),m=f[0],h=f[1];return n.useEffect((function(){void 0!==i&&h.current.moveToIdx(i)}),[i]),r.createElement("div",{className:c},r.createElement("div",Object.assign({ref:o(m,t),className:"keen-slider"},u,{style:{height:"100%"}}),r.Children.map(s,(function(e){return r.cloneElement(e,{className:"keen-slider__slide "+c})})),s))}));exports.SliderWrapper=p,exports.registerSlider=function(e,i){e?e.registerComponent(p,null!=i?i:c):t(p,null!=i?i:c)},exports.sliderMeta=c;
//# sourceMappingURL=keen-slider.cjs.production.min.js.map
