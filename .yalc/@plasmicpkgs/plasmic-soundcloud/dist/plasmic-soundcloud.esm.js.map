{"version":3,"file":"plasmic-soundcloud.esm.js","sources":["../src/soundcloud.tsx","../src/index.tsx"],"sourcesContent":["import { ComponentMeta ,usePlasmicCanvasContext} from \"@plasmicapp/host\";\n\nimport React from \"react\";\n\nexport function ensure<T>(x: T | null | undefined): T {\n  if (x === null || x === undefined) {\n    debugger;\n    throw new Error(`Value must not be undefined or null`);\n  } else {\n    return x;\n  }\n}\n\nconst modulePath = \"@plasmicpkgs/plasmic-soundcloud\";\n\ninterface SoundCloudProps {\n  url: string;\n  visual: boolean;\n  autoPlay: boolean;\n  color: string;\n  showComments: boolean;\n  showUser: boolean;\n  showRelated:boolean;\n  showTeaser:boolean;\n  className: string;\n}\n\nexport const SoundCloudMeta: ComponentMeta<SoundCloudProps> = {\n  name: \"SoundCloud\",\n  displayName: \"SoundCloud\",\n  importName: \"SoundCloud\",\n  importPath: modulePath,\n  providesData: true,\n  description: \"SoundCloud Player\",\n  props: {\n    url: {\n      type: \"string\",\n      displayName: \"URL\",\n      description: \"Track URL\",\n      defaultValue:\n        \"https://soundcloud.com/vautdiscovery/ed-sheeran-thinking-out-loud-live-on-jools-holland\",\n    },\n    visual: {\n      type: \"boolean\",\n      displayName: \"Visual\",\n      description: \"Visual or Classic player\",\n      defaultValue:true\n    },\n    autoPlay: {\n      type: \"boolean\",\n      displayName: \"AutoPlay\",\n      description: \"AutoPlay track\",\n      defaultValue: false,\n    },\n    color: {\n      type: \"color\",\n      displayName: \"Color\",\n      description: \"Widget color,should be in hex format\",\n      noDeref:false\n    },\n    showUser: {\n      type: \"boolean\",\n      displayName: \"Author\",\n      description: \"Show/Hide the uploader name\",\n      defaultValue: false,\n    },\n    showRelated: {\n      type: \"boolean\",\n      displayName: \"Related\",\n      description: \"Show/Hide related songs\",\n      defaultValue: false,\n    },\n    showTeaser: {\n      type: \"boolean\",\n      displayName: \"Teaser\",\n      description: \"Show/Hide the teaser\",\n      defaultValue: false,\n    },\n    showComments: {\n      type: \"boolean\",\n      displayName: \"Comments\",\n      description: \"Show/Hide the comments\",\n      defaultValue: false,\n    },\n  },\n};\n\nexport function SoundCloud({\n  className,\n  url,\n  autoPlay,\n  color,\n  showComments,\n  showRelated,\n  showTeaser,\n  showUser,\n  visual,\n}: SoundCloudProps) {\n  \n const inEditor = usePlasmicCanvasContext();\n \n const play = inEditor ? false: autoPlay\n const query = new URL(url)\n  const parameters = new URLSearchParams(query.search);\n  parameters.set(\"url\", encodeURIComponent(url));\n  parameters.set(\"show_comments\", showComments.toString());\n  parameters.set(\"show_user\", showUser.toString());\n  parameters.set(\"visual\", visual.toString());\n  parameters.set(\"auto_play\", play.toString());\n  parameters.set(\"show_teaser\", showTeaser.toString());\n  parameters.set(\"hide_related\", (!showRelated).toString());\n  parameters.set(\"color\", color.toString());\n\n  return (\n    <iframe   \n      frameBorder=\"0\"\n      scrolling=\"no\"\n      width=\"600px\"\n      height=\"400px\"\n      src={`https://w.soundcloud.com/player?${parameters.toString()}`}\n      allow=\"autoplay\"\n      className={className}\n      /> \n\n  );\n}\n","import registerComponent, {\n  ComponentMeta,\n} from \"@plasmicapp/host/registerComponent\";\nimport registerGlobalContext from \"@plasmicapp/host/registerGlobalContext\";\nimport {\n  SoundCloud,\n  SoundCloudMeta,\n} from \"./soundcloud\";\n\n\nexport function registerAll(loader?: {\n  registerComponent: typeof registerComponent;\n  registerGlobalContext: typeof registerGlobalContext;\n}) {\n  const _registerComponent = <T extends React.ComponentType<any>>(\n    Component: T,\n    defaultMeta: ComponentMeta<React.ComponentProps<T>>\n  ) => {\n    if (loader) {\n      loader.registerComponent(Component, defaultMeta);\n    } else {\n      registerComponent(Component, defaultMeta);\n    }\n  };\n\n  if (loader) {\n    _registerComponent(SoundCloud, SoundCloudMeta);\n  }\n}\n\nexport * from \"./soundcloud\";"],"names":["ensure","x","undefined","Error","modulePath","SoundCloudMeta","name","displayName","importName","importPath","providesData","description","props","url","type","defaultValue","visual","autoPlay","color","noDeref","showUser","showRelated","showTeaser","showComments","SoundCloud","className","inEditor","usePlasmicCanvasContext","play","query","URL","parameters","URLSearchParams","search","set","encodeURIComponent","toString","React","frameBorder","scrolling","width","height","src","allow","registerAll","loader","_registerComponent","Component","defaultMeta","registerComponent"],"mappings":"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"}